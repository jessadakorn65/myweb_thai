<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ผลการเสี่ยงเซียมซี</title>

<link href="https://fonts.googleapis.com/css2?family=Charm:wght@400;700&family=Noto+Serif+Thai:wght@400;600;700&family=Taviraj:wght@400;600;700;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>

<style>
  :root{
    --bg-grad-1:#5b1a1a; --bg-grad-2:#2a0c0c;
    --paper:#f6ecd6; --paper-tint:#f3e3c2; --card:#faefdbcc;
    --border:#deb35a; --ink:#3e280e; --accent:#7b3b00; --accent-2:#945000;
    --pill-bg:#fff1cc; --pill-ink:#7b3b00;
    --box-min-h: 220px; --box-max-h: 58vh;
  }
  body{
    font-family:"Taviraj","Noto Serif Thai","Charm",serif;
    margin:0; min-height:100vh;
    background: linear-gradient(to bottom, #5b1a1a, #2a0c0c, #2a0c0c);
    color:var(--ink);
  }
  body.theme-ram{ --paper:#f4e6cc; --paper-tint:#f0dab2; --card:#f6e6cacc; --border:#d5a449; --pill-bg:#ffe6b8; }
  body.theme-kckp{ --paper:#efe1cc; --paper-tint:#e8d4b7; --card:#f3e4cdcc; --border:#cfa059; --pill-bg:#ffe0b5; }

  #sheet{
    background:
      radial-gradient(140% 100% at 50% -20%, var(--paper-tint), transparent 60%),
      var(--paper);
    border-color:rgba(255,255,255,.35);
    position:relative;
    border: 6px double #d4a94a;
    box-shadow:
      0 0 22px rgba(0,0,0,.35),
      inset 0 0 14px rgba(212,169,74,.35);
  }

  .corner-decor{
    position:absolute; width:62px; height:62px; opacity:.96;
    filter: drop-shadow(0 1px 0 rgba(255,255,255,.6))
            drop-shadow(0 2px 6px rgba(0,0,0,.18));
    pointer-events:none;
  }
  .corner-decor.tl{ top:-6px; left:-6px; }
  .corner-decor.tr{ top:-6px; right:-6px; transform:scaleX(-1); }
  .corner-decor.bl{ bottom:-6px; left:-6px; transform:scaleY(-1); }
  .corner-decor.br{ bottom:-6px; right:-6px; transform:scale(-1); }

  .pill{
    background:var(--pill-bg); border:1.5px solid var(--border); color:var(--pill-ink);
    border-radius:999px; padding:.28rem .66rem; font-weight:800; font-size:.9rem;
    box-shadow:0 2px 8px rgba(0,0,0,.10);
  }

  #verseBox{
    position:relative; display:flex; align-items:center; justify-content:center;
    min-height:var(--box-min-h); max-height:var(--box-max-h);
    padding:1rem; border-radius:1rem; cursor:pointer;
    background-size:cover; background-position:center;
    box-shadow: inset 0 6px 18px rgba(0,0,0,.25), 0 2px 0 rgba(0,0,0,.06);
    overflow:hidden;
  }
  #verseBox::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(180deg, rgba(245,232,205,.55), rgba(245,232,205,.15));
    pointer-events:none; z-index:2;
  }
  .bg-art{ position:absolute; bottom:0; z-index:1; opacity:.95; filter:drop-shadow(0 12px 24px rgba(0,0,0,.35)); pointer-events:none; max-height:92%; }
  .bg-left{ left:-1%; width:clamp(140px,34vw,280px);}
  .bg-right{ right:-3%; width:clamp(140px,34vw,280px); transform:scaleX(-1);}

  #verse{
    position:relative; z-index:3;
    margin:0; text-align:center; white-space:pre-wrap; word-break:break-word; line-height:1.9; font-weight:800;
    color:#2d1606;
    text-shadow:0 1px 0 rgba(255,255,255,.45), 1px 1px 2px rgba(0,0,0,.55), 0 0 10px rgba(255,245,225,.35);
  }
  .card{
    background:var(--card); border:1.5px solid var(--border); color:var(--ink);
    border-radius:1rem; box-shadow:inset 0 3px 10px rgba(0,0,0,.06);
  }
  .btn-primary{
    background:var(--accent); color:#ffe8b8; border-radius:12px; font-weight:800;
    box-shadow:0 6px 16px rgba(0,0,0,.22);
    transition:transform .15s ease, background .15s ease;
  }
  .btn-primary:hover{ transform:translateY(-2px) scale(1.04); background:var(--accent-2); }
  .soft-cream{ color:#6f3906; }
  *::-webkit-scrollbar{ width:10px; height:10px } 
  *::-webkit-scrollbar-thumb{ background:rgba(123,59,0,.55); border-radius:999px }
  *::-webkit-scrollbar-track{ background:rgba(255,241,204,.35) }

  .thai-plaque{
    position:relative;
    margin:.25rem auto 0;
    padding:14px;
    width:min(920px,96%);
    border-radius:18px;
    background:linear-gradient(180deg,#ffedc6,#ffe4b8 62%,#ffedc6 100%);
    border:2.5px solid #d4a94a;
    box-shadow: 
      inset 0 2px 0 rgba(255,255,255,.8),
      inset 0 -6px 18px rgba(0,0,0,.08),
      0 6px 20px rgba(0,0,0,.22);
  }
  .thai-plaque::before{
    content:""; position:absolute; inset:6px;
    border-radius:14px; border:2px solid #e8c46b; pointer-events:none;
  }
  .plaque-inner{ display:flex; flex-wrap:wrap; gap:.6rem 1rem; align-items:center; justify-content:center; }
  #title{ margin:0; font-weight:800; letter-spacing:.5px; color:#5b2a06; text-shadow:0 1px 0 rgba(255,255,255,.6); }
  .pill{ background:#fff5da; border:1.6px solid #d4a94a; color:#7b3b00; }
  .orn{ position:absolute; width:34px; height:34px; opacity:.95; filter: drop-shadow(0 1px 0 rgba(255,255,255,.6)) drop-shadow(0 2px 6px rgba(0,0,0,.18)); pointer-events:none; }
  .orn.top-left{ left:-6px; top:-6px; }
  .orn.top-right{ right:-6px; top:-6px; transform:rotate(90deg); }
  .orn.bot-right{ right:-6px; bottom:-6px; transform:rotate(180deg); }
  .orn.bot-left{ left:-6px; bottom:-6px; transform:rotate(270deg); }
  .thai-plaque #title{ font-size: clamp(22px, 4.6vw, 44px); }

  .bottom-ornament{
    margin-top:2.4rem;
    display:flex; justify-content:center;
    opacity:.95;
  }
  .bottom-ornament svg{
    max-width:420px; width:90%;
    filter: drop-shadow(0 8px 14px rgba(0,0,0,.25));
  }

  .thai-btn {
  display: inline-block;
  padding: 0.4rem 1rem; /* ค่า default สำหรับจอเล็ก */
  font-family: 'Sarabun', sans-serif;
  font-weight: 600;
  font-size: clamp(14px, 2vw, 18px); /* เล็กลงหน่อย */
  color: var(--soft-cream, #fff);
  background: linear-gradient(135deg, #e7c88d, #d4a373);
  border: 2px solid #d4a373;
  border-radius: 0.6rem;
  box-shadow: 0 3px 5px rgba(0,0,0,0.15);
  cursor: pointer;
  transition: all 0.3s ease;
  max-width: 48%; /* ป้องกันปุ่มอ้วนเต็มหน้าจอ */
}

@media (min-width: 640px) { /* tablet ขึ้นไป */
  .thai-btn {
    padding: 0.5rem 1.25rem;
    font-size: clamp(15px, 1.5vw, 18px);
    max-width: 200px;
  }
}

@media (min-width: 1024px) { /* desktop */
  .thai-btn {
    padding: 0.6rem 1.5rem;
    font-size: clamp(16px, 1vw, 20px);
    max-width: 220px;
  }
}

.thai-btn:hover {
  background: linear-gradient(135deg, #d4a373, #e7c88d);
  transform: translateY(-2px);
  box-shadow: 0 6px 8px rgba(0,0,0,0.2);
}

/* มือถือ: ตัดบรรทัดอัตโนมัติ */
@media (max-width: 640px) {
  #verseModal #fullVerse,
  #meaningModal #fullMeaning,
  #verse {
    white-space: normal !important;   /* ให้ขึ้นบรรทัดใหม่อัตโนมัติ */
    word-break: break-word !important; /* บังคับตัดคำถ้ายาวเกิน */
    text-align: left !important;      /* จัดชิดซ้าย อ่านง่าย */
    line-height: 1.6 !important;      /* ลดการเว้นบรรทัด */
    font-weight: 500 !important;      /* เบาฟอนต์ให้อ่านง่าย */
  }
}


  /* คำทำนายในป๊อปอัพ */
  #meaningModal #fullMeaning {
    white-space: normal !important;
    text-align: left !important;
    line-height: 1.6 !important;
    font-weight: 500 !important;
  }


</style>
</head>

<body class="flex justify-center items-start theme-kckp">
<main id="sheet" class="relative w-full max-w-[980px] flex flex-col justify-between min-h-screen rounded-2xl shadow-2xl overflow-hidden p-4 sm:p-6 md:p-8">
  <!-- ลายมุมกรอบรอบหน้า -->
  <svg class="corner-decor tl" viewBox="0 0 80 80" aria-hidden="true">
    <path d="M12,68 C20,46 36,32 58,24 44,22 34,16 28,8 22,20 16,34 12,68" fill="none" stroke="#d4a94a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18,58 Q30,44 50,36" fill="none" stroke="#e8c46b" stroke-width="3" stroke-linecap="round"/>
  </svg>
  <svg class="corner-decor tr" viewBox="0 0 80 80" aria-hidden="true">
    <path d="M12,68 C20,46 36,32 58,24 44,22 34,16 28,8 22,20 16,34 12,68" fill="none" stroke="#d4a94a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18,58 Q30,44 50,36" fill="none" stroke="#e8c46b" stroke-width="3" stroke-linecap="round"/>
  </svg>
  <svg class="corner-decor bl" viewBox="0 0 80 80" aria-hidden="true">
    <path d="M12,68 C20,46 36,32 58,24 44,22 34,16 28,8 22,20 16,34 12,68" fill="none" stroke="#d4a94a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18,58 Q30,44 50,36" fill="none" stroke="#e8c46b" stroke-width="3" stroke-linecap="round"/>
  </svg>
  <svg class="corner-decor br" viewBox="0 0 80 80" aria-hidden="true">
    <path d="M12,68 C20,46 36,32 58,24 44,22 34,16 28,8 22,20 16,34 12,68" fill="none" stroke="#d4a94a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    <path d="M18,58 Q30,44 50,36" fill="none" stroke="#e8c46b" stroke-width="3" stroke-linecap="round"/>
  </svg>

  <!-- ป้ายหัวข้อทรงไทย -->
  <header class="thai-plaque">
    <!-- มุมเล็กบนป้าย -->
    <svg class="orn top-left"  viewBox="0 0 64 64" aria-hidden="true">
      <path d="M32 6c6 8 10 16 10 22 0 10-8 18-18 18C18 46 10 38 10 28c0-6 4-14 10-22" fill="none" stroke="#d4a94a" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 34c8-2 14-2 20 0M14 40c6-2 12-2 18 0" fill="none" stroke="#e8c46b" stroke-width="2" />
    </svg>
    <svg class="orn top-right" viewBox="0 0 64 64" aria-hidden="true">
      <path d="M32 6c6 8 10 16 10 22 0 10-8 18-18 18C18 46 10 38 10 28c0-6 4-14 10-22" fill="none" stroke="#d4a94a" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 34c8-2 14-2 20 0M14 40c6-2 12-2 18 0" fill="none" stroke="#e8c46b" stroke-width="2" />
    </svg>
    <svg class="orn bot-right" viewBox="0 0 64 64" aria-hidden="true">
      <path d="M32 6c6 8 10 16 10 22 0 10-8 18-18 18C18 46 10 38 10 28c0-6 4-14 10-22" fill="none" stroke="#d4a94a" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 34c8-2 14-2 20 0M14 40c6-2 12-2 18 0" fill="none" stroke="#e8c46b" stroke-width="2" />
    </svg>
    <svg class="orn bot-left" viewBox="0 0 64 64" aria-hidden="true">
      <path d="M32 6c6 8 10 16 10 22 0 10-8 18-18 18C18 46 10 38 10 28c0-6 4-14 10-22" fill="none" stroke="#d4a94a" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M12 34c8-2 14-2 20 0M14 40c6-2 12-2 18 0" fill="none" stroke="#e8c46b" stroke-width="2" />
    </svg>

    <div class="plaque-inner">
      <h1 id="title">คำทำนาย — ใบที่ —</h1>
      <div class="flex items-center gap-2">
        <span id="drawBadge" class="pill">ใบที่ —</span>
        <span id="seriesBadge" class="pill">—</span>
      </div>
    </div>
  </header>

  <!-- กลอน + ฉาก -->
  <div id="verseBox" class="mt-3" onclick="openVerseModal()">
    <img id="bgLeft"  class="bg-art bg-left"  alt="" onerror="this.style.display='none'">
    <img id="bgRight" class="bg-art bg-right" alt="" onerror="this.style.display='none'">
    <pre id="verse"></pre>
  </div>

  <div class="card p-3 sm:p-4 md:p-5 w-full mt-4">
    <div id="meaning" class="text-[clamp(15px,2.3vw,22px)] leading-relaxed"></div>
  </div>

  <div id="note" class="font-extrabold soft-cream text-[clamp(14px,2vw,20px)] mt-2"></div>

  <div class="flex flex-col sm:flex-row justify-between items-center mt-4 gap-2 sm:gap-0">
    <div id="visitCounter" class="font-bold px-3 py-1 rounded-xl text-sm card">กำลังโหลดตัวนับ…</div>
    
  </div>

  <div class="bottom-ornament">
    <svg viewBox="0 0 600 140" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <path d="M40 110c20-26 58-40 94-30 18-32 64-40 98-18 14-24 46-38 76-28 24-30 76-30 104 2 28-10 60 6 72 30 36-12 72 2 88 24"
            fill="none" stroke="#e8c46b" stroke-width="6" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M54 114c26-18 54-16 80-4M200 92c22-10 44-10 66 0M320 84c20-8 42-8 62 0M436 96c24-12 48-10 70 0"
            fill="none" stroke="#d4a94a" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
      <g transform="translate(300,70) scale(1.1)">
        <path d="M0-30 C8-10, 18-6, 0,20 C-18-6,-8-10,0-30z" fill="#ffedc6" stroke="#d4a94a" stroke-width="3"/>
        <path d="M0-18 C10-6, 14-2, 0,12 C-14-2,-10-6,0-18z" fill="#ffe4b8" stroke="#e8c46b" stroke-width="2"/>
        <ellipse cx="0" cy="22" rx="28" ry="8" fill="none" stroke="#d4a94a" stroke-width="3"/>
      </g>
    </svg>
  </div>
</main>


<!-- Modal แรก: กลอน -->
<div id="verseModal" class="fixed inset-0 bg-black/50 hidden justify-center items-center z-50 p-4">
  <div class="rounded-xl p-6 max-w-[90%] max-h-[80%] overflow-auto shadow-2xl relative" style="background:var(--paper)">
    <button class="absolute top-4 right-4 font-bold text-xl soft-cream" onclick="closeVerseModal()">✖</button>
    <h2 class="text-center font-extrabold text-2xl mb-4 soft-cream">คำทำนาย</h2>
    
    <!-- กลอน -->
    <pre id="fullVerse" 
     class="text-[clamp(16px,2.5vw,28px)] mb-4 
            max-h-[50vh] overflow-y-auto 
            p-3 rounded-lg border border-[var(--border)] bg-[var(--card)]"
     style="white-space:pre-wrap; line-height:1.9">
</pre>

    
    <!-- ปุ่มไปดูความหมาย -->
     <button id="toMeaningBtn" class="thai-btn">ดูคำทำนาย</button>
  </div>
</div>

<!-- Modal สอง: ความหมาย -->
<div id="meaningModal" class="fixed inset-0 bg-black/50 hidden justify-center items-center z-50 p-4">
  <div class="rounded-xl p-6 max-w-[90%] max-h-[80%] overflow-auto shadow-2xl relative" style="background:var(--paper)">
    <button class="absolute top-4 right-4 font-bold text-xl soft-cream" onclick="closeMeaningModal()">✖</button>
    <h2 class="text-center font-extrabold text-2xl mb-4 soft-cream">คำทำนาย</h2>
    
    <div id="fullMeaning" 
     class="text-[clamp(15px,2.3vw,22px)] leading-relaxed 
            p-3 rounded-lg border border-[var(--border)] bg-[var(--card)] 
            max-h-[50vh] overflow-y-auto">
</div>


      <!-- กล่องปุ่ม -->
     <div class="flex justify-between gap-2 mt-4">
      <button onclick="backToVerse()" class="thai-btn">กลับไปดูกลอน</button>
      <button id="nextBtn" class="thai-btn">ไปหน้าถัดไป</button>
    </div>


</div>



<script>
/* ====== ข้อมูลตัวอย่าง ====== */
const DATA = {
  1:{series:"รามเกียรติ์",verse:`ครานั้นพระพรหมผู้เรืองศรี  ประทับเหนือบุษบกเมฆาไสว
เห็นทารกพาลีวงศ์วานไกร      บุตรแห่งพระพายฤทธิ์เกรียงไกรปรากฏกาย
จึงประสิทธิ์พรอันศักดิ์สิทธิ์      ประทานฤทธิ์เดชหาญมิรู้หาย
อมตะเดชะมิอับปางตาย      ศัตรูทำลายมิอาจล่วงถึง`,meaning:`ผู้ได้ใบเซียมซีใบนี้ ชีวิตของผู้เสี่ยงทายมีเกณฑ์จะได้รับความช่วยเหลือและการสนับสนุนจากผู้ใหญ่
มีผู้คอยอุปถัมภ์ค้ำชู ส่งเสริมให้ชีวิตราบรื่นและมั่นคง ทั้งด้านการงาน การเงิน รวมถึงสุขภาพร่างกาย`,note:`บทกลอนนี้เป็นส่วนหนึ่งของเรื่องรามเกียรติ์ ตอนหนุมานได้ฤทธิ์จากพระพรหม`},
  2:{series:"รามเกียรติ์",verse:`ครานั้นองค์พระรามทรงศักดิ์    เสร็จศึกใหญ่สิ้นพลังอสูรร้าย
คืนสู่อโยธยานครประกาย      ราษฎร์ทั้งหลายโห่ร้องบันเทิงใจ
พร้อมด้วยสีดามเหสีศรีสวัสดิ์    และพิเภกทศกัณฐ์ก็มิอาจต้านทานได้
สุครีพหนุมานพลากรพลไกร     ต่างถวายชัยด้วยภักดีจงรัก`,meaning:`ชีวิตมีเกณฑ์พบความสงบสุขหลังผ่านความยากลำบาก ได้รับความยุติธรรมอย่างสมบูรณ์
พร้อมเปิดทางให้ก้าวเดินต่อไปอย่างมั่นคงและงดงาม`,note:`ตอนพระรามได้ครองกรุงอโยธยา`},
  3:{series:"รามเกียรติ์",verse:`เมื่อนั้นพระรามผู้ทรงศักดิ์            ต้องจำพรากจากเมืองด้วยเหตุผลนัก
เสด็จสู่ป่าพร้อมพี่น้องและนางรัก   ทุกข์ยากหนักกลางดงพงไพร
อาศัยเพิงเรือนร่มไม้แทนวัง         กินผลพลางหากินน้ำไหล
อดทนต่อแดดฝนกลางป่าไพร       แต่หัวใจไม่สิ้นซื่อสัตย์มั่นคง`,meaning:`ช่วงนี้มีเกณฑ์เผชิญความลำบาก ทั้งสุขภาพและงาน อุปสรรคถาโถม
แต่หากใช้ความอดทนและสติในการแก้ปัญหา จะค่อย ๆ เห็นแสงสว่างปลายทาง`,note:`ตอนพระรามเสด็จออกจากเมือง`},
  4:{series:"รามเกียรติ์",verse:`โอ๋เอ๋พระลักษณ์ผู้ร่วมไตร       เห็นน้องไฉนจึงไม่อยู่
ข้าตามหาน้องเรียกชู้            เห็นแต่หมู่ไม้ไพรไสว
ป่าพงเงียบเหงาเศร้าใจแท้      อกพี่จะแหลกแล้งไฉน
แสนรักแสนหวงดวงใจ          ถูกพรากไปกลางไพรพง`,meaning:`ความรักมีเกณฑ์ต้องห่างไกลหรือต้องพลัดพรากด้วยความจำเป็น
จงใช้ความเข้าใจ เอาใจใส่ และความอบอุ่นหล่อเลี้ยงความสัมพันธ์จนกว่าจะได้กลับมาใกล้ชิดอีกครั้ง`,note:`ตอนพระรามโศกเมื่อนางสีดาถูกลักพา`},
  5:{series:"รามเกียรติ์",verse:`ฝ่ายพิเภกจอมอสุรีย์ศรีลงกา        ได้ราชาครองเมืองดังปรารถนา
ทวยขุนนางหมู่อสุราพากันมา        ถวายวาจาสรรเสริญไม่เว้นวัน
บ้างมอบของกำนัลหวังลาภยศ       บ้างเอ่ยถ้อยประจบด้วยสีหน้าสุขสันต์
แต่ใจแฝงหวังเพียงผลแห่งตนพลัน   มิเคยมั่นต่อสัตย์หรือซื่อใจ`,meaning:`อยู่ในเกณฑ์ดี มีโอกาสสำเร็จหลายด้าน แต่ให้ระวังคนที่ทำดีเพราะหวังผลประโยชน์ส่วนตน
ใช้ชีวิตอย่างรอบคอบไตร่ตรองก่อนเกี่ยวข้องกับผู้อื่น เพื่อไม่ตกเป็นเหยื่อการเอารัดเอาเปรียบ`,note:`ตอนพิเภกขึ้นครองกรุงลงกา`},
  6:{series:"รามเกียรติ์",verse:`เมื่อนั้นพระจักรีศรีสวัสดิ์             ได้ชัยชนะดั่งใจหมายสมบัติ
เทวดามอบพรอำนวยอภิวัฒน์        ประกาศฤทธิ์เกริกเกียรติ์เกรียงไกร
ได้แก้วแหวนของทิพย์มาประสิทธิ์   เพิ่มฤทธิ์เพิ่มเดชเกรียงไกร
กองทัพยักษ์พ่ายแพ้แตกไป           บันดาลให้สมบูรณ์พูนสุข`,meaning:`มีเกณฑ์ได้รับโชคลาภและก้าวหน้า ผลสำเร็จมาจากความพยายาม ทุ่มเท และความสามารถจริง
คุ้มค่ากับแรงที่ลงไป`,note:`ตอนพระรามได้รับพรและของวิเศษ`},
  7:{series:"รามเกียรติ์",verse:`ฝ่ายพระรามทรงศรอันศักดิ์สิทธิ์     ยืนประชิดหน้าทัพอสุรี
ทศกัณฐ์โกรธาอหังการ์พลี             คิดจะล้างชีวีศัตรูเดิม
ต่างจ้องหน้าเพลิงโชนในแววเนตร    เวรสังเวชสืบเนื่องไม่ขาดเสริม
เหมือนฟ้าลิขิตไว้แต่แรกเริ่ม           ให้สองเพิ่มศึกใหญ่ในโลกา`,meaning:`มีเจ้ากรรมนายเวรส่งผลให้ชีวิตไม่สงบ ควรหมั่นทำบุญ ให้ทาน แผ่เมตตา เพื่อลดแรงกดดัน
และนำความราบรื่นมา`,note:`ตอนพระรามเผชิญศึกทศกัณฐ์`},
  8:{series:"ขุนช้างขุนแผน",verse:`ครานั้นนางเกสรมารศรี                  มาตำหนักพระบุตรีเสนหา
ชลนัยน์ไหลหลั่งลงถั่งตา                 สวมกอดพระธิดาแล้วร่ำไร
โอ้ว่าสร้อยทองของแม่อา                พระบิดาจะให้ไปเมืองใต้
อีกสามวันขวัญเจ้าจะจากไป            เหมือนดังใจแม่จะขาดอนาถนัก`,meaning:`อาจต้องเผชิญอุปสรรคและการจากลา เปลี่ยนถิ่นหรือความสัมพันธ์
เตรียมใจรับการเปลี่ยนแปลง ใช้สติและยอมรับเพื่อเปิดรับสิ่งใหม่ที่ดีกว่า`,note:`ตอนนางเกสรครวญ`},
  9:{series:"ขุนช้างขุนแผน",verse:`ครานั้นพระองค์ผู้ทรงเดช                    ทอดพระเนตรพ่อลูกก็หรรษา
จึงมีสีหนาทประภาษมา                      ดูราขุนแผนกับพลายงาม
มิเสียแรงเป็นชายชาติทหาร                 ชำนิชำนาญชาญชัยในสนาม
ครั้งนี้กูใช้ไปสงคราม                          มีไพร่ไปแต่ตามสิบห้าคน
เมืองเชียงใหม่ไพร่ฟ้าก็กว่าแสน             ไปไล่เล่นลุยลาวเอาแหลกป่น
ข้าศึกฮึกหาญไม่ทานทน                      ได้คนคืนเมืองเพราะมือมึง`,meaning:`จะได้รับมอบหมายงานสำคัญ/มีเกียรติจากผู้ใหญ่ มีโอกาสได้รางวัล
จงรับผิดชอบ ซื่อสัตย์ และอย่าหลงในความสำเร็จ`,note:`ตอนขุนแผน–พลายงามเข้าเฝ้า`},
  10:{series:"ขุนช้างขุนแผน",verse:`พระเจ้าเชียงใหม่ฟื้นตื่นนิทรา        ลุกผวาหวั่นหวาดพระทัยไหว
ก็ทราบว่าผีบ้านย่านผีไพร            อยู่ไม่ได้หนีออกนอกบุรี
แสนวิตกกอกเมืองจะเคืองเข็ญ       ต้องยากเย็นผู้คนจะป่นปี้
นี่เพราะกูทำความไม่งามดี            ไปชักให้ไพรีมีขึ้นมา`,meaning:`ระวังคนคิดร้าย/ไม่หวังดี อาจเดือดร้อนทั้งตนและครอบครัว
หลีกเลี่ยงการปะทะ และแก้สิ่งที่ทำพลาด มีสติแล้วจะผ่านพ้นได้`,note:`ตอนเกิดวิปริตในเมืองเชียงใหม่`},
  11:{series:"ขุนช้างขุนแผน",verse:`ครานั้นโฉมเจ้าพลายแก้ว                   ท่านผู้ใหญ่ไปแล้วยิ่งผ่องใส    
กระหยิ่มยิ้มด้วยเจ้าพิมพิลาไลย            เข้านั่งแนบแอบใกล้แล้วกล่าววอน
ร้อยชั่งนั่งนิ่งเสียไยเล่า                        ขอเชิญเจ้าร่วมมุ่งเสมอหมอน 
ร้อนฤๅจะกระพือให้พิมนอน                 พี่อยู่ก่อนคอยเจ้าถึงสามวัน`,meaning:`ความรักก้าวหน้า/ใกล้ชิดขึ้น ความสัมพันธ์จริงจังอบอุ่น
ใช้เวลาเรียนรู้กันให้มากขึ้นเพื่อรากฐานมั่นคง`,note:`ตอนศรีประจันส่งตัวนางพิม`},
  12:{series:"ขุนช้างขุนแผน",verse:`ศรีมาลาอาวรณ์นอนใจตรอม                         ถนอมแนบหมอนข้างเคียงคะนึง
โอ้พ่อพลายงามของน้องเอ๋ย                          ใครเลยจะเอ็นดูให้รู้ถึง
ว่าน้องนี้มีจิตคิดรำพึง                                  ดังศรตรึงทรวงโศกวิโยคคิด
พ่อชายตามาสบเมื่อน้องแล                           จะรู้แน่ฤาจะแหนงแคลงในจิต
ดูลาดเลาเจ้าก็ใคร่จะเป็นมิตร                         ฤาวิปริตคิดว่าไม่ปรานี
อกน้องยากนักด้วยเป็นหญิง                           ต้องซ่อนรักหนักนิ่งอยู่กับที่`,meaning:`คิดถึง/ชอบใครแต่ไม่กล้าเปิดเผย ทำให้ค้างคาและทุกข์
ลองบอกความรู้สึกอย่างจริงใจ แต่ไม่คาดหวังเกินไป`,note:`ตอนนางศรีมาลาครวญถึงพลายงาม`},
  13:{series:"ขุนช้างขุนแผน",verse:`ขันหมากตั้งเคียงเรียงกันมา                       เฒ่าแก่นำหน้าขึ้นนั่งพรม
เฒ่าแก่ที่เรือนก็ต้อนรับ                            จึงนับโต๊ะเตียบใหญ่ใส่ขนม
ทั้งหมูไก่เหล้าเข้มเต็มขวดกลม                    กล้วยส้มร้อยสิ่งตามสัญญา
ทุกสินเงินตราผ้าไหว้                                เอาออกนับรับใส่โต๊ะสามขา
เฒ่าแก่สองข้างต่างสนทนา                         ขนของเข้าเคหาด้วยทันใด`,meaning:`โชคลาภ/ความอุดมสมบูรณ์ การเงินดี มีผู้ใหญ่สนับสนุน
เรื่องรักมีเกณฑ์พบคู่ แต่ควรบริหารเงินและรักอย่างมีสติ`,note:`ตอนแต่งงานขุนช้างกับนางวันทอง`},
  14:{series:"ขุนช้างขุนแผน",verse:`ถามหมอลางหมอว่าไม่ตาย                    ลางหมอก็ว่าร้ายเห็นไม่ได้
บ้างก็ว่าลมบาดทะยักชักหัวใจ                บ้างก็ว่าไข้เพื่อเลือดระดูทำ
บ้างว่าผีเรือนวิ่งเข้าออก                       ศรีประจันตากลอกไม่เป็นส่ำ 
มดหมอตะแกด่าว่าระยำ                      มานั่งกินพร่ำพร่ำสบายใจ
คนเจ็บร้องเสียงเหมือนวัวมอ                 อ้ายหมอนั่งหัวร่อหาดูไม่              
จะให้มันรักษาไปว่าไร                         ไสหัวให้ไปพ้นเรือนกู`,meaning:`อาจมีอาการเจ็บป่วยจากความเครียด/กังวล หรือหาสาเหตุไม่ชัด
เลือกวิธีรักษาที่เหมาะสม ดูแลกายใจ แล้วอาการจะดีขึ้น`,note:`ตอนนางพิมเจ็บ`},
  15:{series:"รามเกียรติ์",verse:`เมื่อนั้น                                        องค์ท้าวทศพักตร์ยักษา
อยู่ยังยอดเขาสัตนา                         ทอดพระเนตรลงกาธานี
ครั้นเห็นไฟไหม้เมืองหมดสิ้น               อสุรินทร์ตรึกตรองหมองศรี
กูเสียรู้ลิงป่าพนาลี                           เสียบูรีราษฎรก็ร้อนใจ
จำจะวานเทวาลงมาสร้าง                  ให้กว้างขวางรุ่งเรืองเป็นเมืองใหม่`,meaning:`งาน/ธุรกิจสะดุดเพราะความประมาท แต่หากยอมรับความพลาด
มองหาโอกาสท่ามกลางวิกฤต จะได้พันธมิตรช่วยฟื้นตัว`,note:`ตอนหนุมานเผาลงกา`},
  16:{series:"รามเกียรติ์",verse:`เมื่อนั้น                                             พิเภกรับสั่งบังคมไหว้
พิเคราะห์ดูก็ว่าจะเกิดภัย                        ตกใจทูลความตามสัจจา
ซึ่งแร้งเผือกชนะคือพระราม                     จะหยาบหยามย่ำยียักษา
แร้งดำคือพระองค์ทรงศักดา                     จะอัปราพ่ายแพ้แก่ไพรี
อันกะลาที่ไฟไหม้หมด                            จะเสียองค์ทรงยศแลกรุงศรี`,meaning:`งานมีคู่แข่งแกร่ง หากประมาทอาจเสียงาน/ขาดทุน
จงมีสติ ฟังคำเตือน ใช้เงินอย่างพอประมาณ`,note:`ตอนพิเภกทำนายฝันทศกัณฐ์`},
  17:{series:"รามเกียรติ์",verse:`ครั้นหนึ่งจึงยื่นพระหัตถ์ขวา                 อันมีจักรลักษณาประภัสสร
งามดังงวงเทวกุญชร                          พระสี่กรจับคันศิลป์ชัย
อันมหาธนูสิทธิศักดิ์                           จะหนักพระหัตถ์ก็หาไม่
ยกขึ้นได้คล่องว่องไว                          ภูวไนยกวัดแกว่งสำแดงฤทธิ์`,meaning:`โชคลาภจากหน้าที่การงาน งานยากแต่ทำสำเร็จด้วยความสามารถ
เก็บออมเมื่อได้ลาภ อย่าฟุ่มเฟือย`,note:`ตอนพระรามยกศรโมลี`},
  18:{series:"รามเกียรติ์",verse:`เมื่อนั้น                                        พระสุริย์วงศ์ทรงภพแผ่นดินไหว
ครั้นถึงแก้วแววไว                            ประทับไว้แล้วสั่งเสนา
อันหมู่วานรทวยหาญ                        ให้อยู่อุทยานฝ่ายขวา
ส่วนซ้ายนั้นพวกอสุรา                       พรานป่าให้อยู่ธานี`,meaning:`มีมิตรสหายดี คอยสนับสนุนกันและกัน
รักษาความสัมพันธ์ไว้ เกื้อกูลกันยามยาก`,note:`ตอนพระรามแบ่งทัพหลังชัยชนะ`},
  19:{series:"รามเกียรติ์",verse:`เมื่อนั้น                                       พิเภกประณตบทศรี
แล้วว่าข้าเซซังมาครั้งนี้                     ด้วยภักดีต่อพระองค์ทรงศักดา
มิได้คิดกลับกลอกยอกย้อน                จะหนีร้อนพึ่งเย็นอยู่เป็นข้า
มาตรแม้นทรงธรรม์ไม่กรุณา               น่าที่ชีวาจะบรรลัย`,meaning:`อาจมีอุปสรรคในงาน/เกิดความเข้าใจผิด แต่ความซื่อสัตย์จะพาไปสู่สิ่งที่ดีกว่า
จะมีผู้เห็นคุณค่าและช่วยเหลือ จงอย่าคิดทรยศผู้อื่น`,note:`ตอนพิเภกไปอยู่กับพระราม`},
  20:{series:"รามเกียรติ์",verse:`เมื่อนั้น                                        องค์พระหริรักษ์เรืองศรี
เห็นนางสีดานารี                             ลุยอัคคีไม่พองเท่าย่องใย
พระชื่นชมสมจิตคิดถวิล                    มิได้มีมลทินสิ้นสงสัย
มากุมกรกัลยาคลาไคล                     ขึ้นไปบนสุวรรณพลับพลา`,meaning:`ความรักถูกทดสอบเรื่องความไว้ใจ แต่จะคลี่คลายด้วยความบริสุทธิ์และจริงใจ
ยึดมั่นไม่หวั่นไหว ความรักกลับมามั่นคงสดใส`,note:`ตอนนางสีดาลุยไฟ`},
  21:{series:"รามเกียรติ์",verse:`บัดนั้น                                        พิเภกทูลแจ้งแถลงไข
พระอนุชาวานรพลไกร                     สลบไปด้วยฤทธิ์พิษนาคี
จงแผลงศรเป็นครุฑราช                    ให้สังหารนาคบาศยักษี
พระอนุชาจะฟื้นคืนชีวี                     ทั้งกระบี่รี้พลสกลไกร`,meaning:`สุขภาพอ่อนแอ/ป่วย ควรระวัง แต่มีมิตรคอยช่วยเหลือให้คำแนะนำ
รักษาตรงจุดแล้วจะหายดี`,note:`ตอนแผลงศรครุฑราชแก้พระลักษมณ์และไพร่พล`},
  22:{series:"ขุนช้างขุนแผน",verse:`ครานั้นพระองค์ได้ทรงฟัง                          จึงดำรัสตรัสสั่งพระหมื่นศรี
ประทานของต้องตามความชอบมี                เจียดกระบี่เสื้อใส่ได้ประทาน
ตัวอ้ายพลายให้ตั้งเป็นขุนแผน                    อยู่รักษาเขตแดนที่ปลายด่าน
คุมไพร่ห้าร้อยคอยเหตุการณ์                     แล้วประทานเรือยาวเก้าวา`,meaning:`กำลังจะได้เลื่อนตำแหน่ง ได้รับความไว้วางใจให้ทำงานสำคัญ
ตั้งมั่นในความดี ซื่อสัตย์ต่อหน้าที่ ความเจริญจะตามมา`,note:`ตอนพลายแก้วได้เป็นขุนแผน`},
  23:{series:"ขุนช้างขุนแผน",verse:`ว่านวลนางศรีมาลา                                   คืนวันนั้นนิทราก็ใฝ่ฝัน
ว่าลงสระเล่นน้ำสำราญครัน                         เห็นบุษบันดอกหนึ่งดูพึงตา
ผุดขึ้นพันน้ำงามสะอาด                              นางโผนผาดออกไปด้วยหรรษา
เด็ดได้ดีใจว่ายกลับมา                                กอดแนบแอบอุราประคองดม`,meaning:`โอกาสดีจะเข้ามาอย่างรวดเร็ว ทั้งความรัก งาน หรือผู้สนับสนุน
เปิดใจ แสดงความสามารถ แล้วคว้าโอกาสนั้นไว้`,note:`ตอนพลายงามได้นางศรีมาลา`},
  24:{series:"ขุนช้างขุนแผน",verse:`ครานั้นสมเด็จพระพันวษา                           ตรัสเรียกโหราเข้ามาสั่ง
ให้คูณหารฤกษ์ยามตามกำลัง                       วันไรจะตั้งให้ยาตรา
พระโหราหาฤกษ์แล้วทูลพลัน                       ขึ้นเจ็ดค่ำนั้นเป็นเศษห้า
ได้ฤกษ์เบิกพยุหเสนา                                 เวลาสี่โมงเช้าเก้านาที
ปลอดทั้งผีหลวงห่วงวัน                              ยามนั้นได้เมื่อพระฤาษี
แค้นขัดมัดมือลิงกาลิ                                 จะไปตีบ้านเมืองย่อมมีชัยมี`,meaning:`กำลังอยู่ในช่วงฤกษ์ดี เชื่อคำแนะนำผู้มีประสบการณ์ ทำตามขั้นตอน
ลงมืออย่างมั่นใจ จะมีชัยเหนืออุปสรรค ทั้งนี้ความเพียรยังสำคัญที่สุด`,note:`ตอนพลายงามอาสา`},
  25:{series:"ขุนช้างขุนแผน",verse:`จะกล่าวถึงเจ้าจอมหม่อมขุนช้าง                     นอนครางอยู่ในห้องให้หมองศรี
แต่วันทองจากไปได้เกือบปี                            ไม่มีเพื่อนนอนสะท้อนทุกข์
มิได้นอนค่อนคืนตื่นสะดุ้ง                             ใกล้รุ่งก่อนไก่ไม่พักปลุก
กระทั่งถูกฟูกหมอนเหมือนไฟลุก                     แต่เวียนจุกประจุบันทุกวันคืน`,meaning:`กำลังเผชิญความอ้างว้าง ไร้ที่พึ่ง เหมือนขุนช้างในกลอน
จงรักตัวเอง ใช้เวลาอยู่กับสิ่งที่รัก ก่อนค่อยเปิดใจรับรักใหม่`,note:`ตอนขุนแผนชนะความขุนช้าง`},
  26:{series:"ขุนช้างขุนแผน",verse:`ขุนช้างกำลังเมายืนเกาก้น                               ทุดอ้ายหมาด่าคนเล่นง่ายง่าย
จองหองจะถองกูฤาอ้ายพลาย                        ฤาเชื่อว่าเป็นนายมหาดเล็ก
อ้ายชาติอกตัญญูไม่รู้คุณ                                คือใครแคะค่อนขุนมาแต่เด็ก
ด่าทอพ่อได้อ้ายใจเจ๊ก                                   เมื่อเล็กเล็กใครเลี้ยงมึงเป็นตัว`,meaning:`อาจขัดแย้งกับผู้มีอำนาจ/ถูกกล่าวหาให้เสียใจ
ใช้สติ ไตร่ตรองสาเหตุ แก้ด้วยเหตุผล ไม่ใช้อารมณ์`,note:`ตอนขุนช้างวิวาทกับพระไวย`},
  27:{series:"ขุนช้างขุนแผน",verse:`ครั้นถึงวันดีเป็นศรีวัน                   พระญาติวงศ์พร้อมกันถ้วนหน้า
เจ้าเชียงใหม่ให้นามแก่นัดดา           ให้ชื่อว่าพลายยงพงศ์นพรัฐ
แล้วประทานข้าไทให้ใช้สอย            เพชรพลอยเครื่องประดับสำหรับกษัตริย์
ทั้งเงินทองของเล่นสารพัด              ชมเชยเสวยสวัสดิ์ทุกวันไป`,meaning:`จะได้รับเกียรติยศ ตำแหน่ง หรือการยอมรับจากผู้คน
มีบริวาร/ผู้ช่วยเหลือมาก ความเป็นอยู่สงบร่มเย็น`,note:`ตอนกำเนิดพลายยง ลูกนางสร้อยฟ้า`},
  28:{series:"ขุนช้างขุนแผน",verse:`ครานั้นศรีประจันผู้แม่เฒ่า      เห็นลูกสาวซูบเศร้าลงหนักหนา
กลัดกลุ้มคลุ้มคลังไม่ฟังยา       มดหมอหามาก็หลายคน
หมอจะเอาอะไรให้ทุกสิ่ง        ข้าไทชายหญิงวิ่งสับสน
วุ่นวายทั้งบ้านแกบานบน        จนใจไม่รู้ว่าเป็นไร`,meaning:`เหมือนมีภาระหนักอึ้ง แม้พยายามเต็มที่แล้วยังไม่เห็นทางออก
หากเกี่ยวกับสุขภาพ ควรปรึกษาแพทย์และขอความช่วยเหลือจากรอบข้าง
อย่าแบกไว้คนเดียว`,note:`ตอนนางพิมเจ็บ`}
};

const RAM  = new Set([1,2,3,4,5,6,7,15,16,17,18,19,20,21]);
const KCKP = new Set([8,9,10,11,12,13,14,22,23,24,25,26,27,28]);

function getVerseSummary(t, maxLines=3){
  const L=t.split('\n'); return L.slice(0,maxLines).join('\n')+(L.length>maxLines?' …':'');
}
function fitTextToBox(el, box, minSize=12, maxSize=30){
  let size=Math.min(maxSize,Math.max(minSize,Math.floor(box.clientWidth/22)));
  el.style.fontSize=size+'px';
  const maxW=box.clientWidth*0.94, maxH=box.clientHeight*0.96;
  for(let i=0;i<60;i++){ if(el.scrollWidth<=maxW && el.scrollHeight<=maxH) break; size-=.5; if(size<=minSize) break; el.style.fontSize=size+'px';}
}
function pickUrl(base){
  const a=`./${base}`, b=`./images/${base}`;
  const img=new Image();
  return new Promise(r=>{ img.onload=()=>r(a); img.onerror=()=>r(b); img.src=a; });
}
async function applyThemeById(id){
  const left = document.getElementById('bgLeft');
  const right= document.getElementById('bgRight');
  let leftName,rightName;
  if(RAM.has(id)){ document.body.classList.add('theme-ram'); leftName='iconram03.png'; rightName='iconram02.png'; }
  else{ document.body.classList.add('theme-kckp'); leftName='k01.png'; rightName='k02.png'; }
  left.src = await pickUrl(leftName);
  right.src= await pickUrl(rightName);
}

/* ===== Render ===== */
function render(){
  let id = Number(sessionStorage.getItem('siemsiStick')) || 13;
  sessionStorage.setItem('siemsiStick', String(id));
  const item = DATA[id] || Object.values(DATA)[0];

  applyThemeById(id);
  document.getElementById('title').textContent = `คำทำนาย — ใบที่ ${id}`;
  document.getElementById('drawBadge').textContent = `ใบที่ ${id}`;
  document.getElementById('seriesBadge').textContent = item.series;

  const box=document.getElementById('verseBox'), verseEl=document.getElementById('verse');
  verseEl.textContent = getVerseSummary(item.verse);
  fitTextToBox(verseEl, box);

  document.getElementById('meaning').textContent = item.meaning;
  document.getElementById('note').textContent    = item.note;
}

function openVerseModal(){
  const id = Number(sessionStorage.getItem('siemsiStick')) || 13;
  const item = DATA[id] || Object.values(DATA)[0];

  // ใส่กลอน
  document.getElementById('fullVerse').textContent = item.verse;

  // ใส่ความหมายล่วงหน้า (แต่ยังไม่โชว์)
  document.getElementById('fullMeaning').textContent = item.meaning;

  // เปิด modal กลอน
  const verseModal = document.getElementById('verseModal');
  verseModal.classList.remove('hidden');
  verseModal.classList.add('flex');

  // ปุ่มไปดูความหมาย
  document.getElementById('toMeaningBtn').onclick = function(){
    verseModal.classList.add('hidden');
    verseModal.classList.remove('flex');
    openMeaningModal();
  }
}

function closeVerseModal(){
  const m = document.getElementById('verseModal');
  m.classList.add('hidden');
  m.classList.remove('flex');
}

function openMeaningModal(){
  const m = document.getElementById('meaningModal');
  m.classList.remove('hidden');
  m.classList.add('flex');
}

function closeMeaningModal(){
  const m = document.getElementById('meaningModal');
  m.classList.add('hidden');
  m.classList.remove('flex');
}

function backToVerse(){
  closeMeaningModal();
  openVerseModal();
}


/* ปุ่มไปหน้า form.html */
document.getElementById('nextBtn').addEventListener('click', ()=>{ window.location.href='form.html'; });





/* =========================
   COUNTER (CountAPI + Fallback)
   ========================= */
async function initCounterWithCountAPI(){
  const el = document.getElementById('visitCounter');
  el.textContent = 'กำลังโหลดตัวนับ…';

  // ตั้ง namespace จากโฮสต์เว็บเพื่อลดการชนกับโปรเจกต์อื่น
  const NAMESPACE = (location.host || 'local').replace(/\W/g,'_') || 'local_namespace';
  // แก้ชื่อตามต้องการ เช่น 'siemsi_total' หรือแบ่งหน้าด้วย path
  const KEY = 'siemsi_total';

  // helper: timeout ป้องกันรอเน็ตค้าง
  const withTimeout = (promise, ms=5000) => {
    const ctl = new AbortController();
    const id = setTimeout(()=>ctl.abort(), ms);
    return promise.finally(()=>clearTimeout(id));
  };

  try {
    // 1) สร้าง key ถ้ายังไม่มี (value เริ่มที่ 0) — ถ้ามีอยู่แล้ว API จะคืน error ก็ไม่เป็นไร
    await withTimeout(
      fetch(`https://api.countapi.xyz/create?namespace=${encodeURIComponent(NAMESPACE)}&key=${encodeURIComponent(KEY)}&value=0`)
        .catch(()=>{}) // เงียบ error ได้
    );

    // 2) นับ +1
    const resp = await withTimeout(
      fetch(`https://api.countapi.xyz/hit/${encodeURIComponent(NAMESPACE)}/${encodeURIComponent(KEY)}`)
    );
    const data = await resp.json();
    if (typeof data.value === 'number') {
      el.textContent = `จำนวนผู้ใช้ในระบบ ${data.value.toLocaleString('th-TH')} ครั้ง`;
      return;
    }
    throw new Error('bad response');
  } catch (err) {
    // ===== โหมดสำรอง (ออฟไลน์/บริการล่ม) =====
    const k="siemsi_visit_count_fallback";
    const n=(Number(localStorage.getItem(k))||0)+1;
    localStorage.setItem(k,String(n));
    el.textContent = `จำนวนผู้ใช้ในระบบ ${n.toLocaleString('th-TH')} ครั้ง (โหมดสำรอง)`;
  }
}

/* start */
render();
initCounterWithCountAPI();

addEventListener('resize', ()=>{
  const box=document.getElementById('verseBox');
  const verseEl=document.getElementById('verse');
  verseEl.style.fontSize=''; fitTextToBox(verseEl,box);
});
</script>
</body>
</html>
